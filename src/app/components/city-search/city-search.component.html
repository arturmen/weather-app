<div class="city-search">
  <tui-combo-box class="b-form city-search__input"
                 [formControl]="selectedCity"
                 [valueContent]="content"
                 [stringify]="stringify"
                 (searchChange)="onSearchChange($event)">
    Find a city
    <input placeholder="Type a city name" tuiTextfield (input)="onSearchChange(extractValueFromEvent($event))"/>
    <tui-data-list-wrapper *tuiDataList [itemContent]="content" [items]="items$ | async"></tui-data-list-wrapper>
  </tui-combo-box>

  <button
    iconLeft="tuiIconSearch"
    tuiButton
    (click)="setSelectedCity()"
  >Search</button>
</div>


<ng-template #content let-data>
  <div class="city-template" style="display: flex;">
    <strong class="city-template__name">{{ data.name }}</strong>
    <i class="city-template__description" style="display: flex;">
      <div class="city-template__description__info">, {{ data.country }}</div>
      <div class="city-template__description__info" *ngIf="data.admin1">, {{ data.admin1 }}</div>
    </i>
  </div>
</ng-template>
